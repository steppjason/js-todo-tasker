const taskList=document.getElementById("tasklist-list"),taskListInput=document.getElementById("tasklist-input"),taskListButton=document.getElementById("tasklist-button"),taskListError=document.getElementById("tasklist-error"),taskListContent=document.getElementById("tasklist-content");var tasks=[],deleteSVG='<svg class="c-delete__icon" xmlns="http://www.w3.org/2000/svg" id="Capa_1" enable-background="new 0 0 512 512" height="14" viewBox="0 0 512 512" width="14"><g><path d="m442.154 145c10.585 0 17.924-10.701 13.955-20.514-14.093-34.841-48.275-59.486-88.109-59.486h-18.414c-6.867-36.273-38.67-65-77.586-65h-32c-38.891 0-70.715 28.708-77.586 65h-18.414c-39.834 0-74.016 24.645-88.109 59.486-3.969 9.813 3.37 20.514 13.955 20.514zm-202.154-115h32c21.9 0 40.49 14.734 46.748 35h-125.496c6.258-20.266 24.848-35 46.748-35z"></path><path d="m111.053 470.196c1.669 23.442 21.386 41.804 44.886 41.804h200.121c23.5 0 43.217-18.362 44.886-41.804l21.023-295.196h-331.938zm185.966-214.945c.414-8.274 7.469-14.655 15.73-14.232 8.274.414 14.646 7.457 14.232 15.73l-8 160c-.401 8.019-7.029 14.251-14.969 14.251-8.637 0-15.42-7.223-14.994-15.749zm-97.768-14.232c8.263-.415 15.317 5.959 15.73 14.232l8 160c.426 8.53-6.362 15.749-14.994 15.749-7.94 0-14.568-6.232-14.969-14.251l-8-160c-.413-8.273 5.959-15.316 14.233-15.73z"></path></g></svg>';function addItem(taskValue,isComplete,save){if(getInputLength()>0||!save){toggleError(!1);var listItem=document.createElement("li");listItem.classList.add("c-tasklist__listitem"),listItem.classList.add("c-listitem--box-shadow");var labelCheckbox=document.createElement("label");labelCheckbox.classList.add("c-listitem__label");var completeCheckbox=document.createElement("input");completeCheckbox.classList.add("c-listitem__input"),completeCheckbox.type="checkbox";var spanCheckbox=document.createElement("span");spanCheckbox.classList.add("c-listitem__checkbox"),spanCheckbox.classList.add("js-listitem__checkbox--hover");var deleteButton=document.createElement("button");function hide(){toggleError(!1),listItem.classList.remove("fade"),listItem.classList.remove("c-listitem--box-shadow"),deleteButton.classList.remove("js-listitem__delete--hover"),spanCheckbox.classList.remove("js-listitem__checkbox--hover"),listItem.classList.add("js-tasklist__listitem--is-hidden"),listItem.addEventListener("transitionend",hideHeight)}function hideHeight(){listItem.removeEventListener("transitionend",hideHeight),listItem.classList.add("js-tasklist__listitem--is-height-hidden"),listItem.addEventListener("transitionend",removeItem),tasks.splice(Array.from(listItem.parentNode.children).indexOf(listItem),1),checkEmpty()}function removeItem(){listItem.removeEventListener("transitionend",removeItem),taskList.removeChild(listItem),saveLocalStorage(),taskListInput.focus()}function completeItem(){tasks[Array.from(listItem.parentNode.children).indexOf(listItem)][1]=!tasks[Array.from(listItem.parentNode.children).indexOf(listItem)][1],listItem.classList.toggle("listitem--is-complete"),saveLocalStorage()}deleteButton.innerHTML=deleteSVG,deleteButton.classList.add("c-tasklist__delete"),deleteButton.classList.add("js-listitem__delete--hover"),listItem.appendChild(labelCheckbox),labelCheckbox.appendChild(document.createTextNode(taskValue)),labelCheckbox.appendChild(completeCheckbox),labelCheckbox.appendChild(spanCheckbox),listItem.appendChild(deleteButton),taskList.appendChild(listItem),listItem.classList.add("fade"),isComplete&&(listItem.classList.add("listitem--is-complete"),completeCheckbox.checked=!0),completeCheckbox.addEventListener("click",completeItem),deleteButton.addEventListener("click",hide),save&&(tasks.push([taskValue,isComplete]),saveLocalStorage()),checkEmpty(),taskListInput.value="",taskListInput.focus()}else save&&(toggleError(!0),taskListInput.focus())}function addItemOnKey(){13===event.which&&addItem(taskListInput.value,!1,!0)}function addItemOnClick(){addItem(taskListInput.value,!1,!0)}function toggleError(active){active?(taskListError.classList.add("error-message--is-active"),taskListError.classList.remove("error-message--is-hidden")):(taskListError.classList.add("error-message--is-hidden"),taskListError.classList.remove("error-message--is-active"))}function saveLocalStorage(){window.localStorage.setItem("js_tasks",JSON.stringify(tasks))}function loadLocalStorage(){null!==localStorage.getItem("js_tasks")&&(tasks=JSON.parse(localStorage.getItem("js_tasks"))).forEach((function(task){addItem(task[0],task[1],!1)}))}function checkEmpty(){tasks.length>0?taskListContent.classList.remove("c-tasklist__content--hidden"):taskListContent.classList.add("c-tasklist__content--hidden")}function getInputLength(){return taskListInput.value.length}taskListInput.addEventListener("keypress",addItemOnKey),taskListButton.addEventListener("click",addItemOnClick),loadLocalStorage(),taskListInput.focus();