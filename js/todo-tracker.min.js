const taskList=document.getElementById("tasklist-list"),taskListInput=document.getElementById("tasklist-input"),taskListButton=document.getElementById("tasklist-button"),taskListError=document.getElementById("tasklist-error"),taskListContent=document.getElementById("tasklist-content"),errorNone="Please enter a task name";var tasks=[];taskListInput.addEventListener("keypress",addItemOnKey),taskListButton.addEventListener("click",addItemOnClick);let localTodoList=window.localStorage.jsToDoList;function addItem(taskValue,isComplete,save){if(getInputLength()>0||!save){toggleError(!1);var listItem=document.createElement("li");listItem.classList.add("c-tasklist__listitem"),listItem.classList.add("c-listitem--box-shadow");var labelCheckbox=document.createElement("label");labelCheckbox.classList.add("c-listitem__label");var completeCheckbox=document.createElement("input");completeCheckbox.classList.add("c-listitem__input"),completeCheckbox.type="checkbox";var spanCheckbox=document.createElement("span");spanCheckbox.classList.add("c-listitem__checkbox");var deleteButton=document.createElement("button");function hide(){listItem.classList.remove("fade"),listItem.classList.remove("c-listitem--box-shadow"),listItem.classList.add("c-tasklist__listitem--is-hidden"),listItem.addEventListener("transitionend",hideHeight)}function hideHeight(){listItem.removeEventListener("transitionend",hideHeight),listItem.classList.add("c-tasklist__listitem--is-height-hidden"),listItem.addEventListener("transitionend",removeItem),tasks.splice(Array.from(listItem.parentNode.children).indexOf(listItem),1),checkEmpty()}function removeItem(){listItem.removeEventListener("transitionend",removeItem),taskList.removeChild(listItem),saveLocalStorage()}function completeItem(){tasks[Array.from(listItem.parentNode.children).indexOf(listItem)][1]=!tasks[Array.from(listItem.parentNode.children).indexOf(listItem)][1],listItem.classList.toggle("listitem--is-complete"),saveLocalStorage()}deleteButton.appendChild(document.createTextNode("Delete")),deleteButton.classList.add("c-tasklist__delete"),listItem.appendChild(labelCheckbox),labelCheckbox.appendChild(document.createTextNode(taskValue)),labelCheckbox.appendChild(completeCheckbox),labelCheckbox.appendChild(spanCheckbox),listItem.appendChild(deleteButton),taskList.appendChild(listItem),listItem.classList.add("fade"),isComplete&&(listItem.classList.add("listitem--is-complete"),completeCheckbox.checked=!0),completeCheckbox.addEventListener("click",completeItem),deleteButton.addEventListener("click",hide),save&&(tasks.push([taskValue,isComplete]),saveLocalStorage()),checkEmpty()}else save&&(toggleError(!0),taskListError.innerHTML=errorNone)}function addItemOnKey(){13===event.which&&addItem(taskListInput.value,!1,!0)}function addItemOnClick(){addItem(taskListInput.value,!1,!0)}function toggleError(active){active?(taskListError.classList.add("error-message--is-active"),taskListError.classList.remove("error-message--is-hidden")):(taskListError.classList.add("error-message--is-hidden"),taskListError.classList.remove("error-message--is-active"))}function saveLocalStorage(){window.localStorage.setItem("tasks",JSON.stringify(tasks))}function loadLocalStorage(){(tasks=JSON.parse(localStorage.getItem("tasks"))).forEach((function(task){addItem(task[0],task[1],!1)}))}function checkEmpty(){tasks.length>0?taskListContent.classList.remove("c-tasklist__content--hidden"):taskListContent.classList.add("c-tasklist__content--hidden")}function getInputLength(){return taskListInput.value.length}loadLocalStorage();