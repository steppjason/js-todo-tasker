const taskList=document.getElementById("tasklist-list"),taskListInput=document.getElementById("tasklist-input"),taskListButton=document.getElementById("tasklist-button"),taskListError=document.getElementById("tasklist-error"),errorNone="Please enter a task name";var tasks=[];taskListInput.addEventListener("keypress",addItemOnKey),taskListButton.addEventListener("click",addItemOnClick);let localTodoList=window.localStorage.jsToDoList;function addItem(taskValue,isComplete,save){if(getInputLength()>0||!save){toggleError(!1);var listItem=document.createElement("li"),completeCheckbox=document.createElement("input"),deleteButton=document.createElement("button");function removeItem(){tasks.splice(Array.from(listItem.parentNode.children).indexOf(listItem),1),taskList.removeChild(listItem),saveLocalStorage()}function completeItem(){tasks[Array.from(listItem.parentNode.children).indexOf(listItem)][1]=!tasks[Array.from(listItem.parentNode.children).indexOf(listItem)][1],listItem.classList.toggle("listitem--is-complete"),saveLocalStorage()}listItem.classList.add("c-tasklist__listitem"),completeCheckbox.type="checkbox",deleteButton.appendChild(document.createTextNode("X")),listItem.appendChild(completeCheckbox),listItem.appendChild(document.createTextNode(taskValue)),listItem.appendChild(deleteButton),taskList.appendChild(listItem),isComplete&&(listItem.classList.toggle("listitem--is-complete"),completeCheckbox.checked=!0),completeCheckbox.addEventListener("click",completeItem),deleteButton.addEventListener("click",removeItem),save&&(tasks.push([taskValue,isComplete]),saveLocalStorage())}else save&&(toggleError(!0),taskListError.innerHTML=errorNone)}function addItemOnKey(){13===event.which&&addItem(taskListInput.value,!1,!0)}function addItemOnClick(){addItem(taskListInput.value,!1,!0)}function toggleError(active){active?(taskListError.classList.add("error-message--is-active"),taskListError.classList.remove("error-message--is-hidden")):(taskListError.classList.add("error-message--is-hidden"),taskListError.classList.remove("error-message--is-active"))}function saveLocalStorage(){window.localStorage.setItem("tasks",JSON.stringify(tasks))}function loadLocalStorage(){(tasks=JSON.parse(localStorage.getItem("tasks"))).forEach((function(task){console.log(task[0]+", "+task[1]),addItem(task[0],task[1],!1)}))}function getInputLength(){return taskListInput.value.length}loadLocalStorage();